#!/bin/bash
rustup toolchain install nightly-x86_64-unknown-linux-gnu
rustup toolchain install nightly-2018-07-17-x86_64-unknown-linux-gnu
cargo +nightly-2018-07-17-x86_64-unknown-linux-gnu install fmt
rustup default nightly

echo "COMPILING HOLOCHAIN-CMD"
cd /holochain/holochain-cmd
cargo update
git pull
cargo +nightly build --release

cd /holochain/holosqape
git pull
git submodule update

echo "COMPILING HOLORUST"
cd /holochain/holosqape/holochain-rust
cargo update
git checkout master
git pull
cargo +$TOOLS_NIGHTLY build


echo "COMPILING HOLOSQAPE BINDINGS"
cd /holochain/holosqape/bindings
git pull
qmake
make

echo "COMPILING HOLOCONSOLE"
cd /holochain/holosqape/holoconsole
git status
git pull
qmake CONFIG+=debug
make
